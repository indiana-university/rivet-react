sudo: false
language: node_js
node_js:
- 8
cache:
  directories:
  - node_modules
before_install:
- curl -o- -L https://yarnpkg.com/install.sh | bash
- export PATH="$HOME/.yarn/bin:$PATH"
- yarn install
- yarn add codecov.io
script:
- yarn build
- yarn test --coverage
notifications:
  slack: 
    rooms: 
      - secure: "fP/jmbWf/RNaUOA1hvcx2g/yVzrnLuT7bg6VYrcQaaWRCn159BnDS5v65CkekG2GQ/UYU49f/63o5jmY6dXEgliRHi7n19RxMthH2aFi/Sf+S1iaGvGA3KCoZU9Q1DgoRHoQstIRG/lONgtnI64vrixwFRdzEPitrR9YAWZ6Sd++KgLCKmA04Pe7Q2G+BJZpxAjL68r+j9CHWtdAks/b8DtM7HB+JfMQ7JBddOTOEVou8sS7TIg/VuCKsh3a454rwUoGloJ6n6X+hhGOdSl6UdOprkRTF/vl6dMGDJJ43qWMc3FQROGigqKexP/OGXvZojhgf5aARG2EVNzDRvkdzuVLsQjTqjImoGbiO2Uh7ZE9zyqLC8QYAQ6tYzPBndtEi+V4q0mjJq8gmCrQ8EPhdnGxNsy6AAfzhxSKtgpbIq/HRvs8h10rZVV5a9tz1n9jZA+0NowVyeH+cn8T0qkbEJ9GDW/8R49JVOjEeSQCxnQAsT1UO2lPWh5TR0rYUK1hEt2hiySLmABCDcTYwHX3k1UuNzd0da/IEVBI7ETY4D+UrlQULmq8PXi5vcc5qOsnQ5dt1v7kEG+nEAwrCVAFniXIkUEoqqySI4zNRZkqWGyrb2tX+oOReBOdDcgzFGLuTHKgyqLh3ZdTYbHRM4xiFj+1xiLdfc//Kupa9LBDnVI="
    on_success: always # default: change
    on_failure: always # default: always
  email:
    recipients:
      - jhoerr@iu.edu
      - jhoerr@gmail.com
    on_success: always # default: change
    on_failure: always # default: always
after_success:
- cat ./coverage/lcov.info | ./node_modules/codecov.io/bin/codecov.io.js
